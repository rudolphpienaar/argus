{
  "name": "FedML Smoke",
  "username": "oracle",
  "steps": [
    {
      "send": "OK, do you have power scripts?",
      "success": true,
      "output_contains": [
        "hist-harmonize",
        "type `/scripts` anytime"
      ]
    },
    {
      "send": "I want to run some power scripts",
      "success": true,
      "output_contains": "hist-harmonize"
    },
    {
      "send": "what scripts do you have?",
      "success": true,
      "output_contains": "hist-harmonize"
    },
    {
      "send": "/scripts hist-harmonize",
      "success": true,
      "output_contains": "rename histo-exp1"
    },
    {
      "send": "/run hist-harmoniize",
      "success": false,
      "output_contains": [
        "DID YOU MEAN",
        "hist-harmonize"
      ]
    },
    {
      "send": "Can you run the hist-harmonize for me?",
      "success": true,
      "output_contains": [
        "RUNNING SCRIPT: hist-harmonize",
        "SCRIPT COMPLETE",
        "[OK] [4/4] harmonize"
      ],
      "capture_project": true
    },
    {
      "vfs_exists": "/home/${user}/projects/${project}/input/.harmonized"
    },
    {
      "send": "proceed",
      "success": true
    },
    {
      "vfs_exists": "/home/${user}/projects/${project}/src/train.py"
    },
    {
      "send": "cd /home/${user}/projects/${project}/src",
      "success": true
    },
    {
      "send": "python train.py",
      "success": true,
      "output_contains": "LOCAL TRAINING COMPLETE"
    },
    {
      "vfs_exists": "/home/${user}/projects/${project}/.local_pass"
    },
    {
      "send": "federate",
      "success": true,
      "output_contains": "NEXT (CLI): `federate --yes`"
    },
    {
      "send": "federate --yes",
      "success": true,
      "output_contains": "PHASE 1/3 COMPLETE: BUILD ARTIFACTS"
    },
    {
      "vfs_exists": "/home/${user}/projects/${project}/src/source-crosscompile/data/node.py"
    },
    {
      "send": "federate --name histo-exp1-federated",
      "success": true,
      "output_contains": "PUBLISH METADATA UPDATED"
    },
    {
      "send": "federate --yes",
      "success": true,
      "output_contains": "PHASE 2/3 COMPLETE: MARKETPLACE PUBLISHING"
    },
    {
      "vfs_exists": "/home/${user}/projects/${project}/src/source-crosscompile/containerize/marketplace-publish/data/publish-receipt.json"
    },
    {
      "send": "federate --yes",
      "success": true,
      "output_contains": "DISPATCH COMPLETE"
    },
    {
      "vfs_exists": "/home/${user}/projects/${project}/src/source-crosscompile/containerize/marketplace-publish/dispatch/federated-rounds/data/round-05.json"
    },
    {
      "vfs_exists": "/home/${user}/projects/${project}/.federated"
    }
  ]
}
