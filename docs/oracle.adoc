= ORACLE: Reflexive Verification by Materialized Evidence
:author: ATLAS Project Team
:revdate: 2026-02-20
:revnumber: 2.2.0
:toc: macro
:toclevels: 4
:sectnums:
:icons: font

toc::[]

== Abstract

ORACLE is the verification discipline used by ARGUS to test AI-mediated workflows
without depending on conversational phrasing. The method drives the system through
its normal command surface and asserts outcomes against protocol status and
artifact materialization in the virtual filesystem. This converts verification from
language matching to state-proof validation.

The current specification reflects join-aware workflow semantics and fast-mode test
operation under plugin-owned latency policy.

== Historical Context

Pre-v10 testing emphasized English-response expectations. That model was brittle by
construction because harmless narrative changes could fail tests while real
regressions escaped when output phrasing happened to match. As ARGUS moved toward
Merkle-grounded execution, testing had to move with it.

ORACLE emerged from that pressure as a reflexive method: the same conversational
entry surface is used to trigger behavior, but correctness is judged by deterministic
state transitions and physical artifact evidence.

== Oracle Walk Figure

[source,text]
----
┌──────────────────────────┐
│ SEND COMMAND             │
└────────────┬─────────────┘
             ▼
┌──────────────────────────┐
│ RECEIVE RESPONSE         │
│ statusCode + actions     │
└────────────┬─────────────┘
             ▼
┌──────────────────────────┐
│ ASSERT STATUS CODE       │
└────────────┬─────────────┘
             ▼
┌──────────────────────────┐
│ ASSERT ARTIFACT PATHS    │
│ filesystem existence     │
└────────────┬─────────────┘
             ▼
┌──────────────────────────┐
│ ADVANCE TO NEXT STEP     │
└────────────┬─────────────┘
             └──────────────▶ loop until scenario complete
----

== Contractual Walk Model

A walk is a topological scenario that issues commands in sequence and validates
each step against status protocol and materialization evidence. The runner sends a
command, reads the structured response, checks the status contract, and then checks
filesystem evidence for the expected artifacts. The loop continues until scenario
completion, ensuring end-to-end coherence across interpretation, dispatch, and
materialization layers.

Variable interpolation allows one scenario definition to remain portable across
sessions and project renames. Session and project placeholders are re-resolved from
runtime state after each step, so path assertions remain anchored to current
context.

== Runner Semantics

The oracle runner operates in fast mode by setting `CALYPSO_FAST=true`. This keeps
plugin behavior logically equivalent while removing plugin-side delay for stable and
deterministic throughput. Backend runtime contains no synthetic sleep paths, so fast
mode is applied exactly where simulation can exist.

When workflow policy emits blocked states requiring confirmation, the runner handles
that handshake within the same scenario so policy enforcement and continuation logic
are both tested. Conversational success states remain valid for steps explicitly
defined as non-mutating guidance interactions.

== JOIN-Aware Verification

With join materialization semantics, optional-parent bypass is no longer an
invisible controller choice. When a walk advances past an optional stage, runtime
may materialize skip evidence and then continue execution. ORACLE validates the same
artifact-grounded contract used by regular stage completion, which means optional
resolution is now testable lineage behavior rather than implicit control flow.

This distinction is critical for rename-sensitive workflows. Linear walks and
rename-explicit walks now diverge intentionally in artifact paths and ordering
semantics, and ORACLE captures that divergence as expected behavior rather than as
test fragility.

== Scenario Coverage Posture

The suite is organized as pressure walks across canonical progression, branching,
out-of-order safety, staleness propagation, and anaphora-sensitive command
resolution. Coverage is designed to stress the exact surfaces where language,
topology, and provenance can diverge.

By asserting on status and physical artifacts together, ORACLE can detect both
false-positive language success and silent data-state regressions.

== Architectural Outcome

ORACLE turns conversational execution into scientifically auditable verification.
Its value is not that it speaks to the system like a user; its value is that it
refuses to trust language without materialized proof. This makes it the primary
integrity backstop for ARGUS release hardening.

---
_Last updated: 2026-02-20 (v2.2.0)_
